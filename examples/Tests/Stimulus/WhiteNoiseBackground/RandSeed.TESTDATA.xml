<?xml version="1.0"?>
<marionette_info>
    <permitted_error_messages>
        <!-- Some GPUs struggle with the white noise background stimulus,
             particularly in non-grayscale mode -->
        <message type="whole_message">WARNING: Skipped 1 display refresh cycles</message>
        <message type="starts_with">WARNING: update_stimulus_display action took more than two display refresh cycles </message>
        <message type="whole_message" max_matches="3">WARNING: Skipped 2 display refresh cycles</message>
        <message type="whole_message" max_matches="2">WARNING: Skipped 3 display refresh cycles</message>
        <message type="whole_message" max_matches="1">WARNING: Skipped 4 display refresh cycles</message>
    </permitted_error_messages>
    <expected_events>
        <!-- First iteration -->
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg3</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345679</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg2</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345678</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345678</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
        <!-- Second iteration -->
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg3</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345679</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg2</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345678</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345678</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
        <!-- Third iteration -->
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg3</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345679</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">2</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg2</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345678</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">2</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
        <event variable="#announceStimulus">
            <value>
                <dictionary>
                    <dictionary_element>
                        <key>action</key>
                        <value type="string">draw</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>type</key>
                        <value type="string">white_noise_background</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>name</key>
                        <value type="string">bg1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grayscale</key>
                        <value type="boolean">1</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>grain_size</key>
                        <value type="float">0.0</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_seed</key>
                        <value type="integer">12345678</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>rand_count</key>
                        <value type="integer">2</value>
                    </dictionary_element>
                    <dictionary_element>
                        <key>randomize_on_draw</key>
                        <value type="boolean">0</value>
                    </dictionary_element>
                </dictionary>
            </value>
        </event>
    </expected_events>
</marionette_info>
